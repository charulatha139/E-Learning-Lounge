<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>watch</title>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
  />
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

<header class="header">
  <section class="flex">
    <a href="home.html" class="logo">Educa.</a>
    <form action="search.html" method="post" class="search-form">
      <input
        type="text"
        name="search_box"
        required
        placeholder="search courses..."
        maxlength="100"
      />
      <button type="submit" class="fas fa-search"></button>
    </form>
    <div class="icons">
      <div id="menu-btn" class="fas fa-bars"></div>
      <div id="search-btn" class="fas fa-search"></div>
      <div id="user-btn" class="fas fa-user"></div>
      <div id="toggle-btn" class="fas fa-sun"></div>
    </div>
    <div class="profile">
      <img src="images/charu.jpeg" class="image" alt="" />
      <h3 class="name">Charulatha C</h3>
      <p class="role">student</p>
      <a href="profile.html" class="btn">view profile</a>
      <div class="flex-btn">
        <a href="login.html" class="option-btn">login</a>
        <a href="register.html" class="option-btn">register</a>
      </div>
    </div>
  </section>
</header>

<div class="side-bar">
  <div id="close-btn"><i class="fas fa-times"></i></div>
  <div class="profile">
    <img src="images/charu.jpeg" class="image" alt="" />
    <h3 class="name">Charulatha C</h3>
    <p class="role">student</p>
    <a href="profile.html" class="btn">view profile</a>
  </div>
  <nav class="navbar">
    <a href="home.html"><i class="fas fa-home"></i><span>home</span></a>
    <a href="about.html"><i class="fas fa-question"></i><span>about</span></a>
    <a href="courses.html"><i class="fas fa-graduation-cap"></i><span>courses</span></a>
    <a href="teachers.html"><i class="fas fa-chalkboard-user"></i><span>teachers</span></a>
    <a href="contact.html"><i class="fas fa-headset"></i><span>contact us</span></a>
  </nav>
</div>

<section class="watch-video">
  <div class="video-container">
    <!-- ADD THIS WRAPPER -->
    <div class="video">
      <video controls id="video" poster="">
        <source id="video-source" src="" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>

    <h3 class="title" id="video-title">Loading...</h3>

    <div class="info">
      <p class="date">
        <i class="fas fa-calendar"></i><span id="video-date">--</span>
      </p>
      <p class="date">
        <i class="fas fa-heart"></i><span id="video-likes">-- likes</span>
      </p>
    </div>

    <div class="tutor">
      <img src="images/keerthi.jpeg" alt="" />
      <div>
        <h3>Keerthi Shakeena</h3><span>Developer</span>
      </div>
    </div>

    <form action="" method="post" class="flex">
      <a href="playlist.html" class="inline-btn">view playlist</a>
      <button><i class="far fa-heart"></i><span>like</span></button>
    </form>

    <p class="description" id="video-description">
      Loading video description...
    </p>

    <div class="controls" style="margin-top:20px;">
      <a href="#" id="quiz-btn" class="inline-btn">Take Quiz</a>
      <a href="#" id="next-btn" class="inline-btn">Next Video</a>
    </div>
  </div>
</section>

<section class="comments">
  <h1 class="heading">5 comments</h1>
  <form action="" method="post" class="add-comment">
    <h3>add comments</h3>
    <textarea
      name="comment_box"
      placeholder="enter your comment"
      required
      maxlength="1000"
      cols="30"
      rows="10"
    ></textarea>
    <input
      type="submit"
      value="add comment"
      class="inline-btn"
      name="add_comment"
    />
  </form>
  <h1 class="heading">user comments</h1>
  <div class="box-container"></div>
</section>

<footer class="footer">
  &copy; Learning desktop application <span> @2025 </span> | all rights reserved!
</footer>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const videoNames = ['CSS-1','CSS-2','CSS-3','CSS-4','CSS-5','CSS-6'];
    const params = new URLSearchParams(window.location.search);
    const current = params.get('video') || videoNames[0];
    const idx = videoNames.indexOf(current);

    const videoEl = document.getElementById('video');
    const sourceEl = document.getElementById('video-source');
    sourceEl.src = `images/${current}.mp4`;
    videoEl.setAttribute('poster', `images/thumb-2-${idx+1}.png`);
    videoEl.load();

    document.getElementById('video-title').textContent = `complete CSS tutorial (part ${idx+1})`;
    document.getElementById('quiz-btn').href = `quiz_CSS.html?video=${current}`;

    const nextBtn = document.getElementById('next-btn');
    nextBtn.style.opacity = '0.5';
    nextBtn.style.pointerEvents = 'none';
    if (localStorage.getItem(`quiz_CSS_${current}`) === 'true' && idx + 1 < videoNames.length) {
      nextBtn.href = `watch-video_CSS.html?video=${videoNames[idx+1]}`;
      nextBtn.style.opacity = '1';
      nextBtn.style.pointerEvents = 'auto';
    }
  });
</script>

</body>
</html>
